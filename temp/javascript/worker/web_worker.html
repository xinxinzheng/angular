<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>web worker</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<script type="text/javascript" src="subworkers.js"></script>
</head>
<body>
    <div>
    	<input id="num" type="text">
    	<div id="test"></div>
    </div>
    <script >
    work = new SharedWorker('web_worker.js' , 'sharework');
    work.port.start();
    // work.port.postMessage('78');
    work.port.onmessage = function(evt){
		console.log(evt.data);
	}
	
	document.getElementById('num').onkeyup = function(evt){
		var val = this.value;
		work.port.postMessage(val);
	}

	/*worker = new Worker('web_worker.js');	

	document.getElementById('num').onkeyup = function(evt){
		var val = this.value;
		worker.postMessage(val);
	}

	worker.postMessage('test');

	worker.onmessage = function(event){
		document.getElementById('test').innerHTML = event.data;
	}

	worker.onerror = function(event){
		console.log(event.error);
	}*/

</script>
</body>
</html>